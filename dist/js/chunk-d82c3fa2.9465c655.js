(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d82c3fa2"],{"1be2":function(e,t,s){"use strict";var a=s("faf5"),r=s.n(a);r.a},3137:function(e,t,s){"use strict";var a=s("8f65"),r=s.n(a);r.a},"66aa":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[e.loaded?e._e():a("span",[a("img",{staticClass:"loader",attrs:{src:s("24d9")}})])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.loaded,expression:"loaded"}],staticClass:"container-fluid "},[a("form",{attrs:{method:"post"},on:{submit:function(e){e.preventDefault()}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-2"},[a("div",{staticClass:"profile-img"},[a("img",{staticStyle:{width:"150px"},attrs:{src:e.user.img},on:{error:e.replaceByDefault}}),this.auth?a("uploadpicture",{staticStyle:{"margin-top":"10px"},on:{filename:e.onUploadPicture}}):e._e()],1),e._m(0)]),a("div",{staticClass:"col-md-8"},[a("div",{staticClass:"profile-head"},[a("h5",[e._v(e._s(e.user.prenom)+" "+e._s(e.user.nom.toUpperCase()))]),a("h6",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.mentra,expression:"user.mentra"}],staticClass:"form-control",attrs:{placeholder:"Entrez ici le mentra de l'employé"},domProps:{value:e.user.mentra},on:{input:function(t){t.target.composing||e.$set(e.user,"mentra",t.target.value)}}})]),a("ul",{staticClass:"nav nav-tabs",attrs:{id:"myTab",role:"tablist"}},[e._m(1),e._m(2),e._m(3),e._m(4),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{"data-toggle":"tab",href:"#messageslist",role:"tab"}},[a("i",{staticClass:"fas fa-envelope"}),e._v(" "),a("span",{staticClass:"d-none d-sm-block "},[e._v("Messages "),a("span",{staticClass:"badge badge-danger badge-counter"},[e._v(" "+e._s(this.messagesCount))])])])])])]),a("div",{staticClass:"tab-content profile-tab",attrs:{id:"myTabContent"}},[a("div",{staticClass:"tab-pane fade show active",attrs:{id:"home",role:"tabpanel","aria-labelledby":"home-tab"}},[a("div",{staticClass:"row tab-content-user"},[a("div",{staticClass:"col-md-6"},[e.creationProcess?e._e():a("div",{staticClass:"row"},[e._m(5),a("div",{staticClass:"col-md-8"},[a("p",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.user._id,expression:"user._id"}],staticClass:"form-control",attrs:{placeholder:"modifiez-moi",disabled:""},domProps:{value:e.user._id},on:{input:function(t){t.target.composing||e.$set(e.user,"_id",t.target.value)}}})])])]),a("div",{staticClass:"row"},[e._m(6),a("div",{staticClass:"col-md-8",class:{"form-group--error":e.$v.user.nom.$error}},[a("p",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.nom,expression:"user.nom"}],staticClass:"form-control",class:{"is-invalid":e.$v.user.nom.$error,"is-valid":e.$v.user.nom.$dirty&&!e.$v.user.nom.$invalid},attrs:{placeholder:"modifiez-moi"},domProps:{value:e.user.nom},on:{input:[function(t){t.target.composing||e.$set(e.user,"nom",t.target.value)},e.$v.user.nom.$touch]}})]),e.$v.user.nom.required?e._e():a("div",{staticClass:"error"},[e._v("Le champs est nécessessaire")]),e.$v.user.nom.minLength?e._e():a("div",{staticClass:"error"},[e._v("Le nom doit avoir au moins "+e._s(e.$v.user.nom.$params.minLength.min)+" letters.")]),a("p")])]),a("div",{staticClass:"row"},[e._m(7),a("div",{staticClass:"col-md-8",class:{"form-group--error":e.$v.user.prenom.$error}},[a("p",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.prenom,expression:"user.prenom"}],staticClass:"form-control",class:{"is-invalid":e.$v.user.prenom.$error,"is-valid":e.$v.user.prenom.$dirty&&!e.$v.user.prenom.$invalid},attrs:{placeholder:"modifiez-moi"},domProps:{value:e.user.prenom},on:{input:[function(t){t.target.composing||e.$set(e.user,"prenom",t.target.value)},e.$v.user.prenom.$touch]}})]),e.$v.user.prenom.required?e._e():a("div",{staticClass:"error"},[e._v("Le champs est nécessessaire")]),e.$v.user.prenom.minLength?e._e():a("div",{staticClass:"error"},[e._v("Le prénom doit avoir au moins "+e._s(e.$v.user.nom.$params.minLength.min)+" letters.")]),a("p")])]),a("div",{staticClass:"row"},[e._m(8),a("div",{staticClass:"col-md-8",class:{"form-group--error":e.$v.user.email.$error}},[a("p",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],staticClass:"form-control",class:{"is-invalid":e.$v.user.email.$error,"is-valid":e.$v.user.email.$dirty&&!e.$v.user.email.$invalid},attrs:{type:"email",placeholder:"modifiez-moi"},domProps:{value:e.user.email},on:{input:[function(t){t.target.composing||e.$set(e.user,"email",t.target.value)},e.$v.user.email.$touch]}})]),e.$v.user.email.required?e._e():a("div",{staticClass:"error"},[e._v("Le champs est nécessessaire")]),e.$v.user.email.minLength?e._e():a("div",{staticClass:"error"},[e._v("L'Email doit avoir au moins "+e._s(e.$v.user.email.$params.minLength.min)+" lettres.")]),a("p")])]),e.creationProcess?a("div",{staticClass:"row"},[e._m(9),a("div",{staticClass:"col-md-4"},[a("p",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{placeholder:"modifiez-moi"},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}})]),e.$v.user.password.required?e._e():a("div",{staticClass:"error"},[e._v("Le champs est nécessessaire")]),e.$v.user.password.minLength?e._e():a("div",{staticClass:"error"},[e._v("L'Email doit avoir au moins "+e._s(e.$v.user.password.$params.minLength.min)+" lettres.")]),a("p")])]):e._e(),a("div",{staticClass:"row"},[e._m(10),a("div",{staticClass:"col-md-8",class:{"form-group--error":e.$v.user.phone.$error}},[a("p",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.phone,expression:"user.phone"}],staticClass:"form-control",class:{"is-invalid":e.$v.user.phone.$error,"is-valid":e.$v.user.phone.$dirty&&!e.$v.user.phone.$invalid},attrs:{placeholder:"modifiez-moi"},domProps:{value:e.user.phone},on:{input:[function(t){t.target.composing||e.$set(e.user,"phone",t.target.value)},e.$v.user.phone.$touch]}})]),e.$v.user.phone.minLength?e._e():a("div",{staticClass:"error"},[e._v("Le téléphone doit avoir au moins "+e._s(e.$v.user.phone.$params.minLength.min)+" chiffres.")]),a("p")])])]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"row"},[e._m(11),a("div",{staticClass:"col-md-10"},[a("p",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.birthday,expression:"user.birthday"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:e.user.birthday},on:{change:e.getAge,input:function(t){t.target.composing||e.$set(e.user,"birthday",t.target.value)}}})])]),e._m(12),a("div",{staticClass:"col-md-10"},[a("p",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.age,expression:"user.age"}],staticClass:"form-control",attrs:{disabled:""},domProps:{value:e.user.age},on:{input:function(t){t.target.composing||e.$set(e.user,"age",t.target.value)}}})])]),e._m(13),a("div",{staticClass:"col-md-4"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.user.job,expression:"user.job"}],staticClass:"form-control ",on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.user,"job",t.target.multiple?s:s[0])}}},e._l(e.jobs,(function(t){return a("option",{domProps:{value:t.name}},[e._v(e._s(t.name))])})),0)]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"input-group mb-3"},[a("div",{staticClass:"input-group-prepend"},[a("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button",id:"button-addon1"},on:{click:function(t){return e.createJob()}}},[e._v("+")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newJob,expression:"newJob"}],staticClass:"form-control",attrs:{type:"text",placeholder:"",placeholder:"Ajouter un job","aria-label":"Example text with button addon","aria-describedby":"button-addon1"},domProps:{value:e.newJob},on:{input:function(t){t.target.composing||(e.newJob=t.target.value)}}})])]),e._m(14),e._m(15)])])])]),a("div",{staticClass:"tab-pane fade",attrs:{id:"files",role:"tabpanel","aria-labelledby":"profile-tab"}},[a("div",{staticClass:"row tab-content-user"},[a("div",{staticClass:"col-md-6"},[a("uploadfiles",{on:{myfilenamesevent:e.onFileUploads}})],1),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"card "},[a("div",{staticClass:"card-body",staticStyle:{overflow:"auto"}},[e._m(16),a("h6",{staticClass:"card-subtitle mb-2 text-muted"},[e._v("Gérez")]),a("div",{staticStyle:{"font-size":"0.8em"}},[a("table",{staticClass:"table table-sm"},[e._m(17),e._l(e.user.filenames,(function(t){return a("tr",[a("td",[a("a",{staticClass:"float-left",attrs:{href:"/files/"+t.filename}},[a("i",{staticClass:"fas fa-file-alt"}),e._v(" "+e._s(t.filename))])]),a("td",[a("span",{staticClass:"remove-file btn btn-primary",on:{click:function(s){return e.deleteFile(t)}}},[a("i",{staticClass:"far fa-trash-alt"}),a("br")])]),a("td",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.permissions,expression:"file.permissions"}],staticClass:"form-control ",on:{change:function(s){var a=Array.prototype.filter.call(s.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(t,"permissions",s.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"all"}},[e._v("Tous")]),e._l(e.users,(function(t){return a("option",{domProps:{value:t._id}},[e._v(e._s(t.nom))])}))],2)])])}))],2)])])])])])]),a("div",{staticClass:"tab-pane fade",attrs:{id:"authorizations",role:"tabpanel","aria-labelledby":"authorizations-tab"}},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[e._m(18),a("div",{staticClass:"row"},[e._m(19),a("div",{staticClass:"col-md-6"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.user.role,expression:"user.role"}],staticClass:"custom-select",attrs:{disabled:!e.creationProcess},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.user,"role",t.target.multiple?s:s[0])}}},[a("option",{attrs:{value:""}},[e._v("--Please choose an option--")]),a("option",{attrs:{value:"viewer"}},[e._v("Viewer")]),a("option",{attrs:{value:"user"}},[e._v("User")]),a("option",{attrs:{value:"manager"}},[e._v("Manager")])])])]),a("br"),e.creationProcess?e._e():a("div",{staticClass:"row"},[e._m(20),a("div",{staticClass:"col-md-6"},e._l(e.user.permissions,(function(t){return a("span",{staticClass:"badge badge-warning  badge-space"},[e._v(" "+e._s(t)+" "),a("br")])})),0)])])])]),a("div",{staticClass:"tab-pane fade",attrs:{id:"groups",role:"tabpanel","aria-labelledby":"groups-tab"}},[e.creationProcess?e._e():a("groups")],1),a("div",{staticClass:"tab-pane fade",attrs:{id:"messageslist",role:"tabpanel"}},[e.user._id?a("messageslist",{attrs:{_id:e.user._id},on:{mymcevent:e.onMessagesCount}}):e._e()],1)])])]),a("div",{staticClass:"footer fixed-bottom"},[a("div",{staticClass:"col-md-12 text-right"},[a("div",{staticClass:"btn-group text-left",attrs:{role:"group","aria-label":"Basic example"}},[e.creationProcess?e._e():a("div",{},[a("button",{staticClass:"btn btn-secondary",on:{click:function(t){return e.openMessageModal()}}},[e._m(21)]),a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(t){return e.createUser()}}},[a("i",{staticClass:"fas fa-user-plus"}),a("span",{staticClass:"d-none d-sm-block "},[e._v("Créer un utilisateur")])]),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(t){return e.deleteUser()}}},[a("i",{staticClass:"fas fa-user-minus"}),a("span",{staticClass:"d-none d-sm-block "},[e._v("Supprimer Compte")])]),a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(t){return e.updateUser()}}},[a("i",{staticClass:"fas fa-save"}),a("span",{staticClass:"d-none d-sm-block "},[e._v("Mise à jour")])])]),e.creationProcess?a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(t){return e.cancelInsertUser()}}},[a("i",{staticClass:"fas fa-window-close"}),a("span",{staticClass:"d-none d-sm-block "},[e._v("Cancel")])]):e._e(),e.creationProcess?a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(t){return e.insertUser()}}},[a("i",{staticClass:"fas fa-user-plus"}),a("span",{staticClass:"d-none d-sm-block "},[e._v("Enregistrer utilisateur")])]):e._e()])])])])]),a("modal",{attrs:{name:"messageModal",width:350,height:400}},[a("message",{attrs:{user:this.user}})],1)],1)},r=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"profile-work col-md-2 d-none d-md-block"},[s("p",[e._v("LIENS DE TRAVAIL")]),e._v(" "),s("a",{attrs:{href:""}},[e._v("Website")]),s("br"),e._v(" "),s("a",{attrs:{href:""}},[e._v("Bootsnipp")]),s("br"),e._v(" "),s("a",{attrs:{href:""}},[e._v("Bootply")]),s("br"),s("br"),s("p",[e._v("SKILLS")]),e._v(" "),s("a",{attrs:{href:""}},[e._v("Web Designer")]),s("br"),e._v(" "),s("a",{attrs:{href:""}},[e._v("Web Developer")]),s("br"),e._v(" "),s("a",{attrs:{href:""}},[e._v("WordPress")]),s("br"),e._v(" "),s("a",{attrs:{href:""}},[e._v("WooCommerce")]),s("br"),e._v(" "),s("a",{attrs:{href:""}},[e._v("PHP, .Net")]),s("br")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link active",attrs:{id:"home-tab","data-toggle":"tab",href:"#home",role:"tab","aria-controls":"home","aria-selected":"true"}},[s("i",{staticClass:"fas fa-home"}),s("span",{staticClass:"d-none d-sm-block "},[e._v(" A propos ")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link",attrs:{id:"files-tab","data-toggle":"tab",href:"#files",role:"tab","aria-controls":"files","aria-selected":"false"}},[s("i",{staticClass:"fas fa-file-alt"}),s("span",{staticClass:"d-none d-sm-block "},[e._v("Fichiers ")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link",attrs:{id:"auth-tab","data-toggle":"tab",href:"#authorizations",role:"tab","aria-controls":"files","aria-selected":"false"}},[s("i",{staticClass:"fas fa-lock"}),s("span",{staticClass:"d-none d-sm-block "},[e._v(" Permissions ")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link",attrs:{id:"groups-tab","data-toggle":"tab",href:"#groups",role:"tab","aria-controls":"groups","aria-selected":"false"}},[s("i",{staticClass:"fas fa-users-cog"}),s("span",{staticClass:"d-none d-sm-block "},[e._v(" Groupes")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col-md-2"},[s("label",[e._v("User Id")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col-md-2"},[s("label",[e._v("Nom")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col-md-2"},[s("label",[e._v("Prénom")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col-md-2"},[s("label",[e._v("Email")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col-md-2"},[s("label",[e._v("Password")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col-md-2"},[s("label",[e._v("Téléphone")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col-md-2"},[s("label",[e._v("Date de naissance")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col-md-2"},[s("label",[e._v("Age")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col-md-2"},[s("label",[e._v("Job")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col-md-2"},[s("label",[e._v("Description")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col-md-10"},[s("p",[s("textarea",{staticClass:"form-control",attrs:{rows:"3"}})])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("h5",{staticClass:"card-title"},[s("i",{staticClass:"fas fa-file-alt"}),e._v(" Liste des fichiers ")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("thead",[s("tr",[s("th",[e._v("Nom")]),s("th",[e._v("Supprimer")]),s("th",[e._v("Permissions")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("h5",{staticClass:"card-title"},[s("i",{staticClass:"fas fa-lock"}),e._v(" Gérer les permissions ")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col-md-2"},[s("label",[e._v("Profil")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col-md-2"},[s("label",[e._v("Liste des droits")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("a",[s("i",{staticClass:"fas fa-envelope"}),s("span",{staticClass:"d-none d-sm-block "},[e._v("Message interne")])])}],i=(s("4de4"),s("4160"),s("0d03"),s("159b"),s("bc3a")),o=s.n(i),n=(s("4776"),s("b5ae")),l=s("3bdb"),c=s("d766"),u=s("0f7d"),d=s("284c"),m=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-6"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-body"},[e._m(0),s("h6",{staticClass:"card-subtitle mb-2 text-muted"},[e._v("Ajoutez des utisateurs")]),s("br"),s("br"),s("div",{staticClass:"row"},[e._m(1),s("div",{staticClass:"col-md-9"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.group.name,expression:"group.name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Tapez le nom du groupe","aria-label":"Tapez le nom du groupe","aria-describedby":"button-addon1"},domProps:{value:e.group.name},on:{input:function(t){t.target.composing||e.$set(e.group,"name",t.target.value)}}})])]),s("br"),s("div",{staticClass:"row"},[e._m(2),s("div",{staticClass:"col-md-9"},[s("multiselect",{attrs:{multiple:!0,options:e.users,searchable:!0,"close-on-select":!0,"show-labels":!1,placeholder:"Choix multiple","track-by":"_id","custom-label":e.customLabel},scopedSlots:e._u([{key:"singleLabel",fn:function(t){return[s("img",{staticClass:"option__image",attrs:{src:t.option.img,alt:"No Man’s Sky"}}),s("span",{staticClass:"option__desc"},[s("span",{staticClass:"option__title"},[e._v(e._s(t.option.prenom)+" "+e._s(t.option.nom))])])]}},{key:"option",fn:function(t){return[s("img",{staticClass:"option__image",attrs:{src:t.option.img,alt:"Missing picture !"}}),s("div",{staticClass:"option__desc"},[s("span",{staticClass:"option__title"},[e._v(e._s(t.option.prenom)+" "+e._s(t.option.nom))]),s("span",{staticClass:"option__small"},[e._v(e._s(t.option.desc))])])]}}]),model:{value:e.group.users,callback:function(t){e.$set(e.group,"users",t)},expression:"group.users"}}),s("pre",{staticClass:"language-json"},[s("code",[e._v(e._s(e.value)+" ")])])],1)]),s("br")]),s("div",{staticClass:"card-footer text-right"},[s("div",{},[e.updateMode?s("button",{staticClass:"btn btn-success",on:{click:function(t){return e.newOne()}}},[e._v("Nouveau")]):e._e(),e.updateMode?s("button",{staticClass:"btn btn-danger",on:{click:function(t){return e.deleteGroup(e.group)}}},[e._v("X")]):e._e(),s("button",{staticClass:"btn btn-primary",on:{click:function(t){return e.createGroup()}}},[s("i",{staticClass:"far fa-save"})])])])])]),s("div",{staticClass:"col-lg-6"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-body"},[s("h5",{staticClass:"card-title"},[e._v("Liste des groupes")]),s("h6",{staticClass:"card-subtitle mb-2 text-muted"},[e._v("Cliquez pour modifier")]),s("br"),s("br"),s("table",{staticClass:"table table-bordered"},[s("tbody",{staticClass:"groups-table"},e._l(e.groups,(function(t){return s("tr",[s("th",[s("button",{staticClass:"btn-block btn btn-secondary",on:{click:function(s){return e.readGroup(t)}}},[e._m(3,!0),e._v(" "+e._s(t.name)+" ")])]),s("th",e._l(t.users,(function(t){return s("span",{staticClass:"badge badge-primary"},[e._v(" - "),s("i",{staticClass:"far fa-user"}),e._v(" "+e._s(t.nom)+" - ")])})),0),s("th",[e._v(e._s(t.date_creation))])])})),0)])])])])])},p=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("h5",{staticClass:"card-title"},[s("i",{staticClass:"fas fa-plus"}),e._v(" Créer un groupe ")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col-md-3"},[s("label",[e._v("Nom")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col-md-3"},[s("label",[e._v("Utilisateurs")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticStyle:{"text-align":"left"}},[s("i",{staticClass:"fas fa-users"})])}];s("99af"),s("8e5f");o.a.defaults.withCredentials=!0;var v={name:"Groups",data:function(){return{group:{name:"",users:[]},users:[],value:"",groups:[],updateMode:!1}},methods:{customLabel:function(e){var t=e.nom,s=e.prenom;return"".concat(s,"  ").concat(t,"  ")},createGroup:function(){var e=this;1!=this.updateMode?o.a.post("/createGroup",this.group).then((function(t){e.groups.push(e.group),e.$notify({type:"success",group:"foo",title:"Hey! ",text:"Groupe created"}),e.groups.push(e.group)})).catch((function(t){console.log(t),e.$notify({type:"error",group:"foo",title:"Hey! ",text:"Permission is missing ! -> <br> "+t})})):this.updateGroup()},readGroup:function(e){var t=this;console.log(e),o.a.post("/readGroup",{_id:e._id}).then((function(e){t.group=e.data,t.updateMode=!0})).catch((function(e){console.log(e),t.$notify({type:"error",group:"foo",title:"Hey! ",text:"Permission is missing ! -> <br> "+e})}))},updateGroup:function(){var e=this;o.a.post("/updateGroup",this.group).then((function(t){e.$notify({type:"success",group:"foo",title:"Hey! ",text:"Groupe updated"}),e.readGroups()})).catch((function(t){console.log(t),e.$notify({type:"error",group:"foo",title:"Hey! ",text:"Permission is missing ! -> <br> "+t})}))},deleteGroup:function(){var e=this;confirm("Do you really want to delete?")&&o.a.post("/deleteGroup",this.group).then((function(t){e.$notify({type:"success",group:"foo",title:"Hey! ",text:"Groupe deleted"}),e.readGroups()})).catch((function(t){console.log(t),e.$notify({type:"error",group:"foo",title:"Hey! ",text:"Permission is missing ! -> <br> "+t})}))},readGroups:function(){var e=this;o.a.post("/readGroups").then((function(t){e.groups=t.data})).catch((function(t){console.log(t),e.$notify({type:"error",group:"foo",title:"Hey! ",text:"Permission is missing ! -> <br> "+t})}))},readUsersForFilters:function(){var e=this;o.a.post("/readUsers").then((function(t){e.users=t.data})).catch((function(e){console.log(e)}))},newOne:function(){this.updateMode=!1,this.group={name:"",users:[]}}},mounted:function(){this.readUsersForFilters(),this.readGroups()}},f=v,h=(s("3137"),s("2877")),g=Object(h["a"])(f,m,p,!1,null,"323803c2",null),_=g.exports,b=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e._l(e.messages,(function(t){return s("span",[s("button",{staticClass:"btn btn-block btn-primary"},[s("div",{staticClass:"dropdown-list-image mr-3"},[s("img",{staticClass:"rounded-circle",attrs:{src:"https://source.unsplash.com/fn_BT9fwg_E/60x60",src:t.img,alt:""},on:{error:e.replaceByDefault}}),s("div",{staticClass:"small text-gray-500"},[e._v(e._s(t.senderName))]),s("div",{staticClass:"status-indicator bg-success"})]),e._v(" "+e._s(t.date)+" "),s("div",{staticClass:"font-weight-bold"},[s("div",{staticClass:"text-truncate"},[e._v(e._s(t.content))])])])])})),s("a")],2)},C=[];o.a.defaults.withCredentials=!0;var y={name:"messageslist",props:["_id"],data:function(){return{messages:[]}},methods:{replaceByDefault:function(e){e.target.src="defaut.png"},readMessages:function(){var e=this;o.a.post("/readUserMessages",{_id:this._id}).then((function(t){e.messages=t.data,e.$emit("mymcevent",e.messages.length)})).catch((function(t){console.log(t),e.$notify({type:"error",group:"foo",title:"Hey! ",text:t})}))}},created:function(){this.readMessages()}},$=y,w=Object(h["a"])($,b,C,!1,null,null,null),x=w.exports;o.a.defaults.withCredentials=!0;var P={name:"Profile",props:["id"],data:function(){return{user:{_id:"",nom:"",prenom:"",phone:"",email:"",password:"",img:"",filenames:[],job:"",role:"user",age:""},auth:!1,creationProcess:!1,jobs:[],newJob:"",loaded:!1,users:[],filters:{},messagesCount:"12"}},validations:{user:{nom:{required:n["required"],minLength:Object(n["minLength"])(2)},prenom:{required:n["required"],minLength:Object(n["minLength"])(2)},email:{required:n["required"],minLength:Object(n["minLength"])(2),email:n["email"]},password:{minLength:Object(n["minLength"])(2),required:n["required"]},phone:{minLength:Object(n["minLength"])(2),numeric:!0}}},components:{uploadpicture:l["a"],uploadfiles:c["a"],message:u["a"],messages:d["a"],groups:_,messageslist:x},methods:{readJobs:function(){var e=this;o.a.post("readJobs").then((function(t){e.jobs=t.data})).catch((function(t){console.log(t),e.$notify({type:"error",group:"foo",title:"Hey! ",text:"Permission is missing ! -> <br> "+t})}))},openMessageModal:function(){this.$modal.show("messageModal")},deleteFile:function(e){var t=this,s=this;confirm("Do you really want to delete?")&&o.a.post("deleteFile",{name:e.filename}).then((function(a){alert(" File has been deleted from server"),s.user.filenames=s.user.filenames.filter((function(t){return t.filename!==e.filename})),t.creationProcess||t.updateUser()})).catch((function(e){console.log(e),t.$notify({type:"error",group:"foo",title:"Hey! ",text:"Permission is missing ! -> <br> "+e})}))},replaceByDefault:function(e){e.target.src="defaut.png"},onUploadPicture:function(e){this.user.img=e,console.log(this.user)},onFileUploads:function(e){var t=this;e.forEach((function(e){e.permissions="all",t.user.filenames.push(e)})),this.creationProcess||this.updateUser()},onMessagesCount:function(e){console.log(e),console.log("onmc"),this.messagesCount=e},showModal:function(){this.$modal.show("dialog",{title:"Message",text:"You are too awesome",buttons:[{title:"Deal with it",handler:function(){alert("Woot!")}},{title:"",default:!0,handler:function(){}},{title:"Close"}]})},hideModal:function(){this.$modal.hide("hello-world")},readUser:function(){var e=this;o.a.post("/readUser",{id:this.id}).then((function(t){e.user=t.data})).catch((function(t){console.log(t),e.$notify({type:"error",group:"foo",title:"Hey! ",text:"Permission is missing ! -> <br> "+t})}))},updateUser:function(){var e=this;o.a.post("/updateUser",this.user).then((function(t){e.$notify({type:"success",group:"foo",title:"Hey! ",text:"Update is ok !"}),console.log(t)})).catch((function(t){console.log(t),e.$notify({type:"error",group:"foo",title:"Hey! ",text:"Permission is missing ! -> <br> "+t})}))},deleteUser:function(){var e=this;confirm("Do you really want to delete?")&&o.a.post("/deleteUser",this.user).then((function(t){alert(" Votre compte a été supprimé "),e.$user={},e.$router.push("/login"),console.log(t)})).catch((function(t){console.log(t),e.$notify({type:"error",group:"foo",title:"Hey! ",text:"Permission is missing ! -> <br> "+t})}))},createUser:function(){this.creationProcess=!0,this.user={nom:"",prenom:"",phone:"",email:"",password:"",img:"",filenames:[],job:"",role:"user",age:""}},insertUser:function(){var e=this;this.user.password&&this.user.prenom&&this.user.nom&&this.user.email&&!this.$v.user.email.$error?o.a.post("/createUser",this.user).then((function(t){e.$notify({type:"success",group:"foo",title:"Hey! ",text:"Added on user!"}),e.creationProcess=!1,e.getActualSession()})).catch((function(t){console.log(t),e.$notify({type:"error",group:"foo",title:"Hey! ",text:"Permission is missing ! -> <br> "+t})})):this.$notify({type:"error",group:"foo",title:"Hey! ",text:"Something is wrong, please check the fields again !"})},getActualSession:function(){var e=this;o.a.post("/getActualSession",{}).then((function(t){e.user=t.data,e.auth=!0,e.loaded=!0})).catch((function(t){console.log(t),e.$router.push("/login")}))},getAge:function(){var e=new Date(this.user.birthday),t=new Date,s=t-e,a=Math.floor(s/315576e5);this.user.age=a},createJob:function(){var e=this;this.newJob.length<3?alert("trop court)"):o.a.post("/createJob",{name:this.newJob}).then((function(t){alert("Added one job !"),e.readJobs()})).catch((function(t){console.log(t),e.$notify({type:"error",group:"foo",title:"Hey! ",text:t})}))},cancelInsertUser:function(){this.creationProcess=!1,this.getActualSession()},readUsers:function(){var e=this;o.a.post("/readUsers",{filters:this.filters}).then((function(t){e.users=t.data})).catch((function(e){console.log(e)}))}},beforeCreate:function(){},created:function(){localStorage.getItem("user")?this.user=JSON.parse(localStorage.getItem("user")):this.user=this.$user,this.auth=!0,this.loaded=!0,this.readJobs(),this.readUsers()}},k=P,E=(s("1be2"),Object(h["a"])(k,a,r,!1,null,null,null));t["default"]=E.exports},"8f65":function(e,t,s){},faf5:function(e,t,s){}}]);
//# sourceMappingURL=chunk-d82c3fa2.9465c655.js.map